<!-- src/app/components/login/login.component.html -->
<div class="grid grid-cols-1 lg:grid-cols-2 min-h-screen">
  <div class="bg-white m-4 md:m-10 p-10 grid">
    <div class="flex justify-center items-center">
      <img ngSrc="/img/Aura_logo2.png" alt="Aura Logo" height="635" width="641" class="w-56 h-56">
    </div>
    <div>
      <h1 class="text-center font-bold text-4xl">Welcome Back</h1>
      <h2 class="text-center text-xl text-[#9c9c9c]">Welcome Back, Please enter Your details</h2>

      <!-- Tabs -->
      <div class="bg-[#f0eff2] rounded-xl grid grid-cols-2 gap-4 p-2 mt-8">
        <label
          class="py-4 w-full text-center cursor-pointer transition-all duration-200"
          (click)="switchTab(tabOptionstype.signIn)"
          [ngClass]="activeTab === tabOptionstype.signIn ? 'bg-white font-bold rounded-xl shadow-sm': ''">
          Sign In
        </label>
        <label
          class="py-4 w-full text-center cursor-pointer transition-all duration-200"
          (click)="switchTab(tabOptionstype.signUp)"
          [ngClass]="activeTab === tabOptionstype.signUp ? 'bg-white font-bold rounded-xl shadow-sm': ''">
          Sign Up
        </label>
      </div>

      <!-- Messages -->
      <div class="mt-4" *ngIf="errorMessage">
        <p-message severity="error" [text]="errorMessage"></p-message>
      </div>
      <div class="mt-4" *ngIf="successMessage">
        <p-message severity="success" [text]="successMessage"></p-message>
      </div>

      <!-- Form -->
      <form (ngSubmit)="onSubmit()" class="mt-8 grid gap-4">
        <!-- Email Field -->
        <p-floatlabel variant="in">
          <p-iconfield>
            <p-inputicon class="pi pi-envelope" />
            <input
              pInputText
              id="email"
              [(ngModel)]="email"
              name="email"
              type="email"
              autocomplete="email"
              [disabled]="loading"
              class="w-full rounded-xl"
              required />
          </p-iconfield>
          <label for="email">Email address</label>
        </p-floatlabel>

        <!-- Password Field -->
        <p-floatlabel variant="in">
          <p-iconfield>
            <p-inputicon class="pi pi-lock" />
            <p-password
              id="password"
              [(ngModel)]="password"
              name="password"
              [feedback]="activeTab === tabOptionstype.signUp"
              [toggleMask]="true"
              [disabled]="loading"
              autocomplete="current-password"
              styleClass="w-full rounded-xl"
              inputStyleClass="w-full rounded-xl"
              required>
            </p-password>
          </p-iconfield>
          <label for="password">Password</label>
        </p-floatlabel>

        <!-- Confirm Password Field (solo para registro) -->
        <p-floatlabel variant="in" *ngIf="activeTab === tabOptionstype.signUp">
          <p-iconfield>
            <p-inputicon class="pi pi-lock" />
            <p-password
              id="confirmPassword"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              [feedback]="false"
              [toggleMask]="true"
              [disabled]="loading"
              autocomplete="new-password"
              styleClass="w-full rounded-xl"
              inputStyleClass="w-full rounded-xl"
              required>
            </p-password>
          </p-iconfield>
          <label for="confirmPassword">Confirm Password</label>
        </p-floatlabel>

        <!-- Submit Button -->
        <button
          type="submit"
          class="w-full bg-[#0266ff] rounded-xl py-4 text-white hover:bg-blue-800 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"
          [disabled]="loading">
          <i class="pi pi-spin pi-spinner mr-2" *ngIf="loading"></i>
          {{ loading ? 'Procesando...' : (activeTab === tabOptionstype.signIn ? 'Sign In' : 'Sign Up') }}
        </button>

        <!-- Google Button -->
        <p-button
          icon="pi pi-google"
          [rounded]="true"
          [text]="true"
          [disabled]="loading"
          (click)="loginWithGoogle()"
          label="Continue with Google"
          styleClass="w-full justify-center" />
      </form>
    </div>
  </div>
  <div class="hidden lg:flex flex-col items-center content-center min-h-screen">
    <div class="background-ai"></div>
  </div>
</div>
